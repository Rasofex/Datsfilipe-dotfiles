#!/usr/bin/env bash

if ! asdf plugins list &>/dev/null; then
  asdf plugin add ghq
  asdf install ghq latest
  asdf global ghq latest

  asdf plugin add nodejs https://github.com/asdf-vm/asdf-nodejs.git
  asdf list all nodejs
  asdf install nodejs lts
  asdf global nodejs lts

  asdf plugin add pnpm
  asdf install pnpm latest
  asdf global pnpm latest

  asdf plugin add rust https://github.com/code-lever/asdf-rust.git
  asdf install rust latest
  asdf global rust latest

  asdf plugin add github-cli https://github.com/bartlomiejdanek/asdf-github-cli.git
  asdf install github-cli latest
  asdf global github-cli latest

  echo "Plugins installed and setup complete!"
else
  # asdf update # just if is not installed with pacman
  asdf plugin update --all

  echo "Updated asdf and plugins"
fi
